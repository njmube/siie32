/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */

/*
 * SDialogDiogSaved.java
 *
 * Created on 9/05/2012, 10:31:35 AM
 */

package erp.mmfg.form;

import erp.lib.SLibConstants;
import erp.lib.form.SFormUtilities;
import java.awt.event.ActionEvent;
import java.awt.event.KeyEvent;
import javax.swing.JButton;

/**
 *
 * @author Néstor Ávalos
 */
public class SDialogProductionOrderSaved extends javax.swing.JDialog implements java.awt.event.ActionListener {

    private boolean mbFirstTime;
    private erp.client.SClientInterface miClient;
    private erp.mmfg.data.SDataProductionOrder moProductionOrder;

    private erp.lib.form.SFormField moFieldQuantity;

    /** Creates new form SDialogDiogSaved */
    public SDialogProductionOrderSaved(erp.client.SClientInterface client) {
        super(client.getFrame(), true);
        miClient = client;
        initComponents();
        initComponentsExtra();
    }

    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jPanel2 = new javax.swing.JPanel();
        jPanel3 = new javax.swing.JPanel();
        jPanel4 = new javax.swing.JPanel();
        jLabel1 = new javax.swing.JLabel();
        jpReference = new javax.swing.JPanel();
        jlReference = new javax.swing.JLabel();
        jtfReference = new javax.swing.JTextField();
        jpQuantity = new javax.swing.JPanel();
        jlQuantity = new javax.swing.JLabel();
        jtfQuantity = new javax.swing.JTextField();
        jtfDbmsUnitSymbol = new javax.swing.JTextField();
        jpCharges = new javax.swing.JPanel();
        jlCharges = new javax.swing.JLabel();
        jtfCharges = new javax.swing.JTextField();
        jpDocDate = new javax.swing.JPanel();
        jlDate = new javax.swing.JLabel();
        jtfDate = new javax.swing.JTextField();
        jpDocNumber = new javax.swing.JPanel();
        jlSeries = new javax.swing.JLabel();
        jtfNumber = new javax.swing.JTextField();
        jPanel1 = new javax.swing.JPanel();
        jbClose = new javax.swing.JButton();

        setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);
        setTitle("Orden de producción");
        setResizable(false);
        addWindowListener(new java.awt.event.WindowAdapter() {
            public void windowActivated(java.awt.event.WindowEvent evt) {
                formWindowActivated(evt);
            }
        });

        jPanel2.setLayout(new java.awt.BorderLayout());

        jPanel3.setLayout(new java.awt.GridLayout(6, 1, 0, 5));

        jPanel4.setLayout(new java.awt.FlowLayout(java.awt.FlowLayout.LEFT, 5, 0));

        jLabel1.setText("El documento ha sido guardado conforme a los siguientes datos:");
        jLabel1.setPreferredSize(new java.awt.Dimension(430, 23));
        jPanel4.add(jLabel1);

        jPanel3.add(jPanel4);

        jpReference.setLayout(new java.awt.FlowLayout(java.awt.FlowLayout.LEFT, 5, 0));

        jlReference.setFont(new java.awt.Font("Tahoma", 1, 11));
        jlReference.setText("Orden de producción:");
        jlReference.setPreferredSize(new java.awt.Dimension(130, 23));
        jpReference.add(jlReference);

        jtfReference.setEditable(false);
        jtfReference.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jtfReference.setText("REFERENCE");
        jtfReference.setFocusable(false);
        jtfReference.setPreferredSize(new java.awt.Dimension(325, 23));
        jpReference.add(jtfReference);

        jPanel3.add(jpReference);

        jpQuantity.setLayout(new java.awt.FlowLayout(java.awt.FlowLayout.LEFT, 5, 0));

        jlQuantity.setText("Cantidad:");
        jlQuantity.setPreferredSize(new java.awt.Dimension(130, 23));
        jpQuantity.add(jlQuantity);

        jtfQuantity.setEditable(false);
        jtfQuantity.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        jtfQuantity.setText("NUMBER");
        jtfQuantity.setFocusable(false);
        jtfQuantity.setPreferredSize(new java.awt.Dimension(75, 23));
        jpQuantity.add(jtfQuantity);

        jtfDbmsUnitSymbol.setEditable(false);
        jtfDbmsUnitSymbol.setText("UNIT");
        jtfDbmsUnitSymbol.setFocusable(false);
        jtfDbmsUnitSymbol.setPreferredSize(new java.awt.Dimension(30, 23));
        jpQuantity.add(jtfDbmsUnitSymbol);

        jPanel3.add(jpQuantity);

        jpCharges.setLayout(new java.awt.FlowLayout(java.awt.FlowLayout.LEFT, 5, 0));

        jlCharges.setText("Cargas:");
        jlCharges.setPreferredSize(new java.awt.Dimension(130, 23));
        jpCharges.add(jlCharges);

        jtfCharges.setEditable(false);
        jtfCharges.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        jtfCharges.setText("NUMBER");
        jtfCharges.setFocusable(false);
        jtfCharges.setPreferredSize(new java.awt.Dimension(75, 23));
        jpCharges.add(jtfCharges);

        jPanel3.add(jpCharges);

        jpDocDate.setLayout(new java.awt.FlowLayout(java.awt.FlowLayout.LEFT, 5, 0));

        jlDate.setText("Fecha ord. prod.:");
        jlDate.setPreferredSize(new java.awt.Dimension(130, 23));
        jpDocDate.add(jlDate);

        jtfDate.setEditable(false);
        jtfDate.setText("01/01/2012");
        jtfDate.setFocusable(false);
        jtfDate.setPreferredSize(new java.awt.Dimension(75, 23));
        jpDocDate.add(jtfDate);

        jPanel3.add(jpDocDate);

        jpDocNumber.setLayout(new java.awt.FlowLayout(java.awt.FlowLayout.LEFT, 5, 0));

        jlSeries.setText("Folio:");
        jlSeries.setPreferredSize(new java.awt.Dimension(130, 23));
        jpDocNumber.add(jlSeries);

        jtfNumber.setBackground(new java.awt.Color(255, 204, 51));
        jtfNumber.setEditable(false);
        jtfNumber.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jtfNumber.setText("NUMBER");
        jtfNumber.setFocusable(false);
        jtfNumber.setPreferredSize(new java.awt.Dimension(130, 23));
        jpDocNumber.add(jtfNumber);

        jPanel3.add(jpDocNumber);

        jPanel2.add(jPanel3, java.awt.BorderLayout.PAGE_START);

        getContentPane().add(jPanel2, java.awt.BorderLayout.CENTER);

        jbClose.setText("Aceptar");
        jbClose.setPreferredSize(new java.awt.Dimension(75, 23));
        jPanel1.add(jbClose);

        getContentPane().add(jPanel1, java.awt.BorderLayout.PAGE_END);

        java.awt.Dimension screenSize = java.awt.Toolkit.getDefaultToolkit().getScreenSize();
        setBounds((screenSize.width-488)/2, (screenSize.height-244)/2, 488, 244);
    }// </editor-fold>//GEN-END:initComponents

    private void formWindowActivated(java.awt.event.WindowEvent evt) {//GEN-FIRST:event_formWindowActivated
        windowActivated();
    }//GEN-LAST:event_formWindowActivated

    private void initComponentsExtra() {

        moFieldQuantity = new erp.lib.form.SFormField(miClient, SLibConstants.DATA_TYPE_DOUBLE, true, jtfQuantity, jlQuantity);

        jbClose.addActionListener(this);
        SFormUtilities.createActionMap(rootPane, this, "actionClose", "close", KeyEvent.VK_ESCAPE, SLibConstants.UNDEFINED);
    }

    private void windowActivated() {
        if (mbFirstTime) {
            mbFirstTime = false;
            jbClose.requestFocus();
        }
    }

    public void actionClose() {
        setVisible(false);
    }

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JLabel jLabel1;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel2;
    private javax.swing.JPanel jPanel3;
    private javax.swing.JPanel jPanel4;
    private javax.swing.JButton jbClose;
    private javax.swing.JLabel jlCharges;
    private javax.swing.JLabel jlDate;
    private javax.swing.JLabel jlQuantity;
    private javax.swing.JLabel jlReference;
    private javax.swing.JLabel jlSeries;
    private javax.swing.JPanel jpCharges;
    private javax.swing.JPanel jpDocDate;
    private javax.swing.JPanel jpDocNumber;
    private javax.swing.JPanel jpQuantity;
    private javax.swing.JPanel jpReference;
    private javax.swing.JTextField jtfCharges;
    private javax.swing.JTextField jtfDate;
    private javax.swing.JTextField jtfDbmsUnitSymbol;
    private javax.swing.JTextField jtfNumber;
    private javax.swing.JTextField jtfQuantity;
    private javax.swing.JTextField jtfReference;
    // End of variables declaration//GEN-END:variables

    public void setFormParams(final erp.mmfg.data.SDataProductionOrder productionOrder) {
        moProductionOrder = productionOrder;

        jtfReference.setText(moProductionOrder.getReference());
        moFieldQuantity.setFieldValue(moProductionOrder.getQuantity());
        jtfDbmsUnitSymbol.setText(moProductionOrder.getDbmsBomUnitSymbol());
        jtfCharges.setText("" + moProductionOrder.getCharges());
        jtfDate.setText(miClient.getSessionXXX().getFormatters().getDateFormat().format(moProductionOrder.getDate()));
        jtfNumber.setText(moProductionOrder.getDbmsNumber());

        jtfReference.setCaretPosition(0);
        jtfDate.setCaretPosition(0);
        jtfNumber.setCaretPosition(0);
    }

    public void formReset() {
        mbFirstTime = true;
    }

    @Override
    public void actionPerformed(ActionEvent e) {
        if (e.getSource() instanceof JButton) {
            JButton button = (JButton) e.getSource();

            if (button == jbClose) {
                actionClose();
            }
        }
    }
}
